"serviceWorker"in navigator?navigator.serviceWorker.register(document.location.origin+"/service-worker.js").then(function(t){console.log("Service worker registration succeeded:",t)},function(t){console.log("Service worker registration failed:",t)}):console.log("Service workers are not supported.");$(document).ready(function(){$(".selectize-singular").selectize({}),$(".selectize--linked").selectize({onChange(t){window.location=t}})});$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});let v=document.querySelector(".menu"),m=document.querySelector(".menu__search");document.querySelector(".header__toggles-menu-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.remove("menu__search--visible"),v.classList.add("menu--visible")});document.querySelector(".menu__close-button").addEventListener("click",()=>{document.body.style.overflowY="auto",v.classList.remove("menu--visible")});document.querySelector(".header__toggles-search-button").addEventListener("click",()=>{document.body.style.overflowY="hidden",m.classList.add("menu__search--visible"),v.classList.add("menu--visible"),v.querySelector(".menu__search-input").focus()});document.querySelector(".menu__search-input").addEventListener("focus",()=>{m.classList.add("menu__search--visible")});document.querySelectorAll('[data-action="toggle-mobile-menu"]').forEach(t=>{t.addEventListener("click",n=>{document.querySelector(".mobile-menu").classList.toggle("mobile-menu--visible")})});document.querySelectorAll(".tab-button").forEach(t=>{t.addEventListener("click",n=>{let o=n.target,a=o.closest(".tab-buttons-container").querySelector(".tab-button--active"),s=document.querySelector(`[data-content-id="${o.dataset.targetId}"]`),c=s.closest(".tab-content-container").querySelector(".tab-content-item--active");o!==a&&(a&&a.classList.remove("tab-button--active"),o.classList.add("tab-button--active"),c&&c.classList.remove("tab-content-item--active"),s.classList.add("tab-content-item--active"))})});let b=document.querySelector(".menu__tab");b.querySelectorAll(".tab-button").forEach(t=>{t.addEventListener("dblclick",n=>{window.location.href=t.dataset.link})});let h=document.querySelector(".menu__search-results-container");m.querySelector(".spinner-container");document.querySelector(".menu__search-form").addEventListener("submit",t=>{t.preventDefault();let n=m.querySelector(".spinner-container");n.classList.add("spinner-container--visible"),$.ajax({type:"POST",enctype:"multipart/form-data",url:"/search",data:{keyword:document.querySelector(".menu__search-input").value},success:function(o){h.innerHTML=o,n.classList.remove("spinner-container--visible")},error:function(){n.classList.remove("spinner-container--visible"),console.log("Ajax search error!")}})});let _=$(".products-carousel");_.owlCarousel({loop:!0,margin:32,nav:!0,navText:['<span class="material-icons">west</span>','<span class="material-icons">east</span>'],dots:!1,responsive:{0:{items:1},991:{items:4}}});document.querySelectorAll(".accordion__item--active").forEach(t=>{let n=t.querySelector(".accordion__collapse");n.style.height=n.scrollHeight+"px"});document.querySelectorAll(".accordion__button").forEach(t=>{t.addEventListener("click",n=>{let o=n.target,e=o.closest(".accordion"),a=o.closest(".accordion__item"),s=a.querySelector(".accordion__collapse"),r=e.querySelector(".accordion__item--active");r&&r!==a&&(r.classList.remove("accordion__item--active"),r.querySelector(".accordion__collapse").style.height=null),s.clientHeight?(s.style.height=0,a.classList.remove("accordion__item--active")):(s.style.height=s.scrollHeight+"px",a.classList.add("accordion__item--active"))})});$(".counter-box").length&&$(".counter-box").appear(function(){var t=$(this),n=t.find(".counter-number").attr("data-stop"),o=parseInt(t.find(".counter-number").attr("data-speed"),10);t.hasClass("counted")||(t.addClass("counted"),$({countNum:t.find(".counter-number").text()}).animate({countNum:n},{duration:o,easing:"linear",step:function(){t.find(".counter-number").text(Math.floor(this.countNum))},complete:function(){t.find(".counter-number").text(this.countNum)}}))},{accY:0});document.querySelectorAll(".font-controller__radio").forEach(t=>{t.addEventListener("change",n=>{let o=n.target,e=document.querySelector(".post__body");if(o.checked==!0){let a="post__body--small-font",s="post__body--medium-font",r="post__body--large-font",c="post__body--giant-font";switch(o.value){case"small":e.classList.remove(r),e.classList.remove(s),e.classList.remove(c),e.classList.add(a),document.cookie="fontSize=small";break;case"medium":e.classList.remove(a),e.classList.remove(r),e.classList.remove(c),e.classList.add(s),document.cookie="fontSize=medium";break;case"large":e.classList.remove(a),e.classList.remove(s),e.classList.remove(c),e.classList.add(r),document.cookie="fontSize=large";break;case"giant":e.classList.remove(a),e.classList.remove(s),e.classList.remove(r),e.classList.add(c),document.cookie="fontSize=giant";break}}})});let g=document.querySelectorAll(".plyr");g.forEach(t=>{new Plyr(t,{captions:{active:!0,language:"en"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","airplay","fullscreen"]})});g.forEach(t=>{t.addEventListener("play",n=>{let o=n.target;g.forEach(e=>{e!==o&&e.pause()})})});let f=document.querySelector("#magnifier-image");f&&(f.complete?p():f.addEventListener("load",p));function p(){L("magnifier-image",3)}function L(t,n){var o,e,a,s,r;o=document.getElementById(t),e=document.createElement("DIV"),e.setAttribute("class","img-magnifier-glass"),o.parentElement.insertBefore(e,o),e.style.backgroundImage="url('"+o.src+"')",e.style.backgroundRepeat="no-repeat",e.style.backgroundSize=o.width*n+"px "+o.height*n+"px",r=3,a=e.offsetWidth/2,s=e.offsetHeight/2,e.addEventListener("mousemove",c),o.addEventListener("mousemove",c),e.addEventListener("touchmove",c),o.addEventListener("touchmove",c);function c(u){var d,i,l;u.preventDefault(),d=y(u),i=d.x,l=d.y,i>o.width-a/n&&(i=o.width-a/n),i<a/n&&(i=a/n),l>o.height-s/n&&(l=o.height-s/n),l<s/n&&(l=s/n),e.style.left=i-a+"px",e.style.top=l-s+"px",e.style.backgroundPosition="-"+(i*n-a+r)+"px -"+(l*n-s+r)+"px"}function y(u){var d,i=0,l=0;return u=u||window.event,d=o.getBoundingClientRect(),i=u.pageX-d.left,l=u.pageY-d.top,i=i-window.pageXOffset,l=l-window.pageYOffset,{x:i,y:l}}}
